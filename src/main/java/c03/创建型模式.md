## 单例模式

### 为什么使用单例模式

单例模式的需求很简单: 一个类只允许创建一次.那这个类就是单例模式,这种设计模式就是单例设计模式,简称单例模式.

### 不同写法的单例模式

#### 1. 饿汉式
[饿汉式](design-pattern/src/main/java/c03/singleton/IdGenerator01.java)

优点:
大型程序(生命周期较长)中,提前初始化能避免请求初始化资源导致请求超时.如果有问题能提前暴露问题.

缺点:
频繁启停的程序,会浪费时间准备单例资源.


[懒汉式](design-pattern/src/main/java/c03/singleton/IdGenerator02.java)

优点:
支持延时加载.
缺点:
加了一把大锁,导致这个函数的并发度很低.

[双重校验](design-pattern/src/main/java/c03/singleton/IdGenerator03.java)

优点: 支持延时加载,性能也还可以.

[静态内部类](design-pattern/src/main/java/c03/singleton/IdGenerator04.java)

静态内部类在外部类被加载的时候并不会被加载,只有在调用getInstance()方法的时候才会被加载,这个时候创建instance.
instance的唯一性和安全性都是由JVM来保证的.


[枚举类](design-pattern/src/main/java/c03/singleton/IdGenerator05.java)